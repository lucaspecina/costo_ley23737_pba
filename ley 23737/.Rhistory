unique(ba19$delito1_descripcion)
nrow(ba19$delito1_descripcion == NA)
nrow(is.na(ba19$delito1_descripcion))
ley23737 <- ba19 %>% filter(delito1_descripcion=='Infracción ley n° 23.737 (estupefacientes)')
nrow(ley23737)
5297+160
prueba <- provinciales %>% filter(jurisdiccion_descripcion=='Buenos Aires' & provincia_descripcion=='Buenos Aires') %>%
filter((delito1_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito2_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito3_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito4_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito5_descripcion=='Infracción ley n° 23.737 (estupefacientes)'))
prueba <- provinciales %>% filter(jurisdiccion_descripcion=='Buenos Aires' & provincia_descripcion=='Buenos Aires') %>%
filter((delito1_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito2_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito3_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito4_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito5_descripcion=='Infracción ley n° 23.737 (estupefacientes)'))
prueba <- provinciales %>% filter(jurisdiccion_descripcion=='Buenos Aires' & provincia_descripcion=='Buenos Aires')
unique(sneep$jurisdiccion_descripcion)
prueba <- provinciales %>% filter(jurisdiccion_id==1 & provincia_descripcion=='Buenos Aires') %>%
filter((delito1_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito2_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito3_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito4_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito5_descripcion=='Infracción ley n° 23.737 (estupefacientes)'))
prueba <- provinciales %>% filter(jurisdiccion_id==1 & provincia_descripcion=='Buenos Aires')
45392-43666
# esto deja solo las provinciales
provinciales <- sneep %>% filter(anio_censo>=2005 & reparticion_descripcion=='Provincial')
# delitos totales de la PBA
pba <- provinciales %>% filter(jurisdiccion_id==1 & provincia_descripcion=='Buenos Aires')
# ley 23737
ley23737 <- pba %>%
filter((delito1_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito2_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito3_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito4_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito5_descripcion=='Infracción ley n° 23.737 (estupefacientes)'))
# cantidad de presos totales
presos_total_por_anio <- pba %>% group_by(anio_censo) %>% summarise(presos_totales= n())
print(presos_total_por_anio)
# cantidad de presos totales
presos_ley23737_por_anio <- ley23737 %>% group_by(anio_censo) %>% summarise(presos_ley23737= n())
print(presos_ley23737_por_anio)
# cantidad de presos totales
presos_total_por_anio <- pba %>% group_by(anio_censo) %>% summarise(presos_totales= n())
# cantidad de presos por ley23737
presos_ley23737_por_anio <- ley23737 %>% group_by(anio_censo) %>% summarise(presos_ley23737= n())
presos_porcen23737_por_anio <- presos_total_por_anio %>% inner_join(presos_ley23737_por_anio, by='anio_censo')
print(presos_porcen23737_por_anio)
# cantidad de presos totales
presos_total_por_anio <- pba %>% group_by(anio_censo) %>% summarise(presos_totales= n())
# cantidad de presos por ley23737
presos_ley23737_por_anio <- ley23737 %>% group_by(anio_censo) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio <- presos_total_por_anio %>% inner_join(presos_ley23737_por_anio, by='anio_censo')
# calculo porcentaje
presos_porcen23737_por_anio <- presos_porcen23737_por_anio %>% mutate(porcen_ley23737 = presos_ley23737_por_anio/presos_totales*100)
# cantidad de presos totales
presos_total_por_anio <- pba %>% group_by(anio_censo) %>% summarise(presos_totales= n())
# cantidad de presos por ley23737
presos_ley23737_por_anio <- ley23737 %>% group_by(anio_censo) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio <- presos_total_por_anio %>% inner_join(presos_ley23737_por_anio, by='anio_censo')
# calculo porcentaje
presos_porcen23737_por_anio <- presos_porcen23737_por_anio %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
print(presos_porcen23737_por_anio)
# esto deja solo las provinciales
provinciales <- sneep %>% filter(anio_censo>=2005 & reparticion_descripcion=='Provincial')
# delitos totales de la PBA
pba <- provinciales %>% filter(provincia_descripcion=='Buenos Aires')
# ley 23737
ley23737 <- pba %>%
filter((delito1_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito2_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito3_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito4_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito5_descripcion=='Infracción ley n° 23.737 (estupefacientes)'))
# cantidad de presos totales
presos_total_por_anio <- pba %>% group_by(anio_censo) %>% summarise(presos_totales= n())
# cantidad de presos por ley23737
presos_ley23737_por_anio <- ley23737 %>% group_by(anio_censo) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio <- presos_total_por_anio %>% inner_join(presos_ley23737_por_anio, by='anio_censo')
# calculo porcentaje
presos_porcen23737_por_anio <- presos_porcen23737_por_anio %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
print(presos_porcen23737_por_anio)
ggplot(presos_porcen23737_por_anio, aes(x=anio_censo,y=porcen_ley23737)) + geom_line()
ggplot(presos_porcen23737_por_anio, aes(x=anio_censo,y=porcen_ley23737)) + geom_line() + geom_point()
data_plot <- presos_porcen23737_por_anio %>% gather(key='tipo', value='cantidad', presos_totales,presos_ley23737)
data_plot <- presos_porcen23737_por_anio %>% pivot_longer(c(presos_totales,presos_ley23737), names_to='tipo', values_to='cantidad')
library(tidyr)
data_plot <- presos_porcen23737_por_anio %>% pivot_longer(c(presos_totales,presos_ley23737), names_to='tipo', values_to='cantidad')
View(data_plot)
ggplot(presos_porcen23737_por_anio, aes(x=anio_censo,y=cantidad,color=tipo)) + geom_line() + geom_point()
ggplot(data_plot, aes(x=anio_censo,y=cantidad,color=tipo)) + geom_line() + geom_point()
ggplot(data_plot, aes(x=anio_censo,y=cantidad,color=tipo)) + geom_line() + geom_point() +
labs(title="Provincia de Buenos Aires",x="Año de censo", y = "Cantidad de presos")
# ley 23737
ley23737 <- provinciales %>%
filter((delito1_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito2_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito3_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito4_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito5_descripcion=='Infracción ley n° 23.737 (estupefacientes)'))
# cantidad de presos totales
presos_total_por_anio <- provinciales %>% group_by(anio_censo) %>% summarise(presos_totales= n())
# cantidad de presos por ley23737
presos_ley23737_por_anio <- ley23737_provs %>% group_by(anio_censo) %>% summarise(presos_ley23737= n())
# ley 23737
ley23737_provs <- provinciales %>%
filter((delito1_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito2_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito3_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito4_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito5_descripcion=='Infracción ley n° 23.737 (estupefacientes)'))
# cantidad de presos totales
presos_total_por_anio <- provinciales %>% group_by(anio_censo) %>% summarise(presos_totales= n())
# cantidad de presos por ley23737
presos_ley23737_por_anio <- ley23737_provs %>% group_by(anio_censo) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio <- presos_total_por_anio %>% inner_join(presos_ley23737_por_anio, by='anio_censo')
# calculo porcentaje
presos_porcen23737_por_anio <- presos_porcen23737_por_anio %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
print(presos_porcen23737_por_anio)
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
View(presos_ley23737_por_anio_prov)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by='anio_censo')
# calculo porcentaje
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
print(presos_porcen23737_por_anio)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by='anio_censo')
# calculo porcentaje
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
print(presos_porcen23737_por_anio_prov)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
# calculo porcentaje
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
print(presos_porcen23737_por_anio_prov)
View(presos_porcen23737_por_anio_prov)
ggplot(presos_porcen23737_por_anio_prov, aes(x=anio_censo,y=porcen_ley23737,color=provincia_descripcion)) + geom_line() + geom_point() +
labs(title="Provincia de Buenos Aires",x="Año de censo", y = "Cantidad de presos")
data_plot <- presos_porcen23737_por_anio_prov %>% filter(provincia_descripcion %in%
c('Buenos Aires', 'Chaco', 'Córdoba', 'Formosa', 'Salta', 'Entre Rios', 'Santiago del Estero'))
ggplot(presos_porcen23737_por_anio_prov, aes(x=anio_censo,y=porcen_ley23737,color=provincia_descripcion)) + geom_line() + geom_point() +
labs(title="Provincia de Buenos Aires",x="Año de censo", y = "Cantidad de presos")
data_plot <- presos_porcen23737_por_anio_prov %>% filter(provincia_descripcion %in%
c('Buenos Aires', 'Chaco', 'Córdoba', 'Formosa', 'Salta', 'Entre Rios', 'Santiago del Estero'))
ggplot(data_plot, aes(x=anio_censo,y=porcen_ley23737,color=provincia_descripcion)) + geom_line() + geom_point() +
labs(title="Provincia de Buenos Aires",x="Año de censo", y = "Cantidad de presos")
# ley 23737
ley23737_provs <- provinciales %>%
filter((delito1_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito2_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito3_descripcion=='Infracción ley n° 23.737 (estupefacientes)' | delito4_descripcion=='Infracción ley n° 23.737 (estupefacientes)' |
delito5_descripcion=='Infracción ley n° 23.737 (estupefacientes)')) %>%
filter(provincia_id==jurisdiccion_id)
View(ley23737_provs)
ley23737_provs %>% filter(anio_censo==2005 & provincia_id=='Entre Rios') %>% select(c(anio_censo,provincia_descripcion,jurisdiccion_descripcion))
ley23737_provs %>% filter(anio_censo==2005 & provincia_descripcion=='Entre Rios') %>% select(c(anio_censo,provincia_descripcion,jurisdiccion_descripcion))
ley23737_provs %>% filter(anio_censo==2005 & provincia_descripcion=='Entre Rios') %>% select(c(anio_censo,provincia_descripcion,jurisdiccion_descripcion, establecimiento_descripcion))
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
# calculo porcentaje
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>%
filter(
(provincia_descripcion=='Buenos Aires') |
(provincia_descripcion=='Chaco' & anio_censo>=2015) |
(provincia_descripcion=='Córdoba' & anio_censo>=2012) |
(provincia_descripcion=='Formosa' & anio_censo>=2015) |
(provincia_descripcion=='Salta' & anio_censo>=2014) |
(provincia_descripcion=='Entre Rios' & anio_censo>=2018) |
(provincia_descripcion=='Santiago del Estero' & anio_censo>=2018)
)
print(presos_porcen23737_por_anio_prov)
ggplot(presos_porcen23737_por_anio_prov, aes(x=anio_censo,y=porcen_ley23737,color=provincia_descripcion)) + geom_line() + geom_point() +
labs(title="Provincias elegidas",x="Año de censo", y = "Porcentaje de presos por 23737")
unique(sneep$genero_descripcion)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
# POR GENERO
mujeres_total <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% left_join(mujeres_total,by=c('anio_censo','provincia_descripcion'))
mujeres_droga <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_droga= n())
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% left_join(mujeres_droga,by=c('anio_censo','provincia_descripcion'))
varones_total <- provinciales %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_total= n())
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% left_join(varones_total,by=c('anio_censo','provincia_descripcion'))
varones_droga <- provinciales %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_droga= n())
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% left_join(varones_droga,by=c('anio_censo','provincia_descripcion'))
transexual_total <- provinciales %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_total= n())
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% left_join(transexual_total,by=c('anio_censo','provincia_descripcion'))
transexual_droga <- provinciales %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_droga= n())
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% left_join(transexual_droga,by=c('anio_censo','provincia_descripcion'))
# calculo porcentaje
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
View(presos_porcen23737_por_anio_prov)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
# POR GENERO
mujeres_total <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% left_join(mujeres_total,by=c('anio_censo','provincia_descripcion'))
View(presos_porcen23737_por_anio_prov)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
# POR GENERO
mujeres_total <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_total,by=c('anio_censo','provincia_descripcion'))
mujeres_droga <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_droga,by=c('anio_censo','provincia_descripcion'))
varones_total <- provinciales %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_total,by=c('anio_censo','provincia_descripcion'))
varones_droga <- provinciales %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_droga,by=c('anio_censo','provincia_descripcion'))
transexual_total <- provinciales %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_total,by=c('anio_censo','provincia_descripcion'))
transexual_droga <- provinciales %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_droga,by=c('anio_censo','provincia_descripcion'))
View(presos_porcen23737_por_anio_prov)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
# POR GENERO
mujeres_total <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_total,by=c('anio_censo','provincia_descripcion'))
mujeres_droga <- ley23737_provs %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_droga,by=c('anio_censo','provincia_descripcion'))
varones_total <- provinciales %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_total,by=c('anio_censo','provincia_descripcion'))
varones_droga <- ley23737_provs %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_droga,by=c('anio_censo','provincia_descripcion'))
transexual_total <- provinciales %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_total,by=c('anio_censo','provincia_descripcion'))
transexual_droga <- ley23737_provs %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_droga,by=c('anio_censo','provincia_descripcion'))
View(presos_porcen23737_por_anio_prov)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
# POR GENERO
mujeres_total <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_total,by=c('anio_censo','provincia_descripcion'))
mujeres_droga <- ley23737_provs %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_droga,by=c('anio_censo','provincia_descripcion'))
varones_total <- provinciales %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_total,by=c('anio_censo','provincia_descripcion'))
varones_droga <- ley23737_provs %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_droga,by=c('anio_censo','provincia_descripcion'))
transexual_total <- provinciales %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_total,by=c('anio_censo','provincia_descripcion'))
transexual_droga <- ley23737_provs %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_droga,by=c('anio_censo','provincia_descripcion'))
View(presos_porcen23737_por_anio_prov)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>%
filter(
(provincia_descripcion=='Buenos Aires') |
(provincia_descripcion=='Chaco' & anio_censo>=2015) |
(provincia_descripcion=='Córdoba' & anio_censo>=2012) |
(provincia_descripcion=='Formosa' & anio_censo>=2015) |
(provincia_descripcion=='Salta' & anio_censo>=2014) |
(provincia_descripcion=='Entre Rios' & anio_censo>=2018) |
(provincia_descripcion=='Santiago del Estero' & anio_censo>=2018)
)
# POR GENERO
mujeres_total <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_total,by=c('anio_censo','provincia_descripcion'))
mujeres_droga <- ley23737_provs %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_droga,by=c('anio_censo','provincia_descripcion'))
varones_total <- provinciales %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_total,by=c('anio_censo','provincia_descripcion'))
varones_droga <- ley23737_provs %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_droga,by=c('anio_censo','provincia_descripcion'))
transexual_total <- provinciales %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_total,by=c('anio_censo','provincia_descripcion'))
transexual_droga <- ley23737_provs %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_droga,by=c('anio_censo','provincia_descripcion'))
# calculo porcentajes
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
View(presos_porcen23737_por_anio_prov)
# de total de GENERO, cuantas son por droga
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(
mujeres_porcen_droga = mujeres_droga/mujeres_total*100,
varones_porcen_droga = varones_droga/varones_total*100,
transexuales_porcen_droga = transexuales_droga/transexuales_total*100
)
# de total de GENERO, cuantas son por droga
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(
mujeres_porcen_droga = mujeres_droga/mujeres_total*100,
varones_porcen_droga = varones_droga/varones_total*100,
transexuales_porcen_droga = transexual_droga/transexual_total*100
)
View(presos_porcen23737_por_anio_prov)
# del total de delitos, que porcentaje por genero
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(
total_porcen_mujeres = mujeres_total/(mujeres_total+varones_total+transexual_total)*100,
total_porcen_varones = varones_total/(mujeres_total+varones_total+transexual_total)*100,
total_porcen_transexuales = transexual_total/(mujeres_total+varones_total+transexual_total)*100)
View(presos_porcen23737_por_anio_prov)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>%
filter(
(provincia_descripcion=='Buenos Aires') |
(provincia_descripcion=='Chaco' & anio_censo>=2015) |
(provincia_descripcion=='Córdoba' & anio_censo>=2012) |
(provincia_descripcion=='Formosa' & anio_censo>=2015) |
(provincia_descripcion=='Salta' & anio_censo>=2014) |
(provincia_descripcion=='Entre Rios' & anio_censo>=2018) |
(provincia_descripcion=='Santiago del Estero' & anio_censo>=2018)
)
# POR GENERO
mujeres_total <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_total,by=c('anio_censo','provincia_descripcion'))
mujeres_droga <- ley23737_provs %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_droga,by=c('anio_censo','provincia_descripcion'))
varones_total <- provinciales %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_total,by=c('anio_censo','provincia_descripcion'))
varones_droga <- ley23737_provs %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_droga,by=c('anio_censo','provincia_descripcion'))
transexual_total <- provinciales %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_total,by=c('anio_censo','provincia_descripcion'))
transexual_droga <- ley23737_provs %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_droga,by=c('anio_censo','provincia_descripcion'))
# reemplazo los NA con 0
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% replace_na(0)
# cantidad de presos totales
presos_total_por_anio_prov <- provinciales %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_totales= n())
# cantidad de presos droga por año y provincia
presos_ley23737_por_anio_prov <- ley23737_provs %>% group_by(anio_censo,provincia_descripcion) %>% summarise(presos_ley23737= n())
# joineo
presos_porcen23737_por_anio_prov <- presos_total_por_anio_prov %>% inner_join(presos_ley23737_por_anio_prov, by=c('anio_censo','provincia_descripcion'))
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>%
filter(
(provincia_descripcion=='Buenos Aires') |
(provincia_descripcion=='Chaco' & anio_censo>=2015) |
(provincia_descripcion=='Córdoba' & anio_censo>=2012) |
(provincia_descripcion=='Formosa' & anio_censo>=2015) |
(provincia_descripcion=='Salta' & anio_censo>=2014) |
(provincia_descripcion=='Entre Rios' & anio_censo>=2018) |
(provincia_descripcion=='Santiago del Estero' & anio_censo>=2018)
)
# POR GENERO
mujeres_total <- provinciales %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_total,by=c('anio_censo','provincia_descripcion'))
mujeres_droga <- ley23737_provs %>% filter(genero_descripcion=='Femenino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(mujeres_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(mujeres_droga,by=c('anio_censo','provincia_descripcion'))
varones_total <- provinciales %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_total,by=c('anio_censo','provincia_descripcion'))
varones_droga <- ley23737_provs %>% filter(genero_descripcion=='Masculino') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(varones_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(varones_droga,by=c('anio_censo','provincia_descripcion'))
transexual_total <- provinciales %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_total= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_total,by=c('anio_censo','provincia_descripcion'))
transexual_droga <- ley23737_provs %>% filter(genero_descripcion=='Transexual') %>% group_by(anio_censo,provincia_descripcion) %>%
summarise(transexual_droga= n())
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% left_join(transexual_droga,by=c('anio_censo','provincia_descripcion'))
# reemplazo los NA con 0
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% replace(is.na(.), 0)
# calculo porcentajes
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(porcen_ley23737 = (presos_ley23737/presos_totales*100))
# de total de GENERO, cuantas son por droga
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(
mujeres_porcen_droga = mujeres_droga/mujeres_total*100,
varones_porcen_droga = varones_droga/varones_total*100,
transexuales_porcen_droga = transexual_droga/transexual_total*100)
# del total de delitos, que porcentaje por genero
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(
total_porcen_mujeres = mujeres_total/(mujeres_total+varones_total+transexual_total)*100,
total_porcen_varones = varones_total/(mujeres_total+varones_total+transexual_total)*100,
total_porcen_transexuales = transexual_total/(mujeres_total+varones_total+transexual_total)*100)
# de delitos droga, que porcentaje por genero
presos_porcen23737_por_anio_prov <- presos_porcen23737_por_anio_prov %>% mutate(
droga_porcen_mujeres = mujeres_droga/(mujeres_droga+varones_droga+transexual_droga)*100,
droga_porcen_varones = varones_droga/(mujeres_droga+varones_droga+transexual_droga)*100,
droga_porcen_transexuales = transexual_droga/(mujeres_droga+varones_droga+transexual_droga)*100)
View(presos_porcen23737_por_anio_prov)
presos_porcen23737_por_anio_prov
# delitos por NO ley 23737
NOdroga_provs <- provinciales %>%
filter(delito1_descripcion!='Infracción ley n° 23.737 (estupefacientes)' & delito2_descripcion!='Infracción ley n° 23.737 (estupefacientes)' &
delito3_descripcion!='Infracción ley n° 23.737 (estupefacientes)' & delito4_descripcion!='Infracción ley n° 23.737 (estupefacientes)' &
delito5_descripcion!='Infracción ley n° 23.737 (estupefacientes)') %>%
filter(provincia_id==jurisdiccion_id)
View(NOdroga_provs)
# delitos por NO ley 23737
NOdroga_provs <- provinciales %>%
filter(
(delito1_descripcion!='Infracción ley n° 23.737 (estupefacientes)' | is.na(delito1_descripcion)) &
(delito2_descripcion!='Infracción ley n° 23.737 (estupefacientes)' | is.na(delito1_descripcion)) &
(delito3_descripcion!='Infracción ley n° 23.737 (estupefacientes)' | is.na(delito1_descripcion)) &
(delito4_descripcion!='Infracción ley n° 23.737 (estupefacientes)' | is.na(delito1_descripcion)) &
(delito5_descripcion!='Infracción ley n° 23.737 (estupefacientes)' | is.na(delito1_descripcion))) %>%
filter(provincia_id==jurisdiccion_id)
View(NOdroga_provs)
# delitos por NO ley 23737
NOdroga_provs <- provinciales %>%
filter(
((delito1_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito1_descripcion))) &
(delito2_descripcion!='Infracción ley n° 23.737 (estupefacientes)' | is.na(delito1_descripcion)) &
(delito3_descripcion!='Infracción ley n° 23.737 (estupefacientes)' | is.na(delito1_descripcion)) &
(delito4_descripcion!='Infracción ley n° 23.737 (estupefacientes)' | is.na(delito1_descripcion)) &
(delito5_descripcion!='Infracción ley n° 23.737 (estupefacientes)' | is.na(delito1_descripcion))) %>%
filter(provincia_id==jurisdiccion_id)
# delitos por NO ley 23737
NOdroga_provs <- provinciales %>%
filter(
((delito1_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito1_descripcion))) &
((delito2_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito1_descripcion))) &
((delito3_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito1_descripcion))) &
((delito4_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito1_descripcion))) &
((delito5_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito1_descripcion)))) %>%
filter(provincia_id==jurisdiccion_id)
# delitos por NO ley 23737
NOdroga_provs <- provinciales %>%
filter(
((delito1_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito1_descripcion))) &
((delito2_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito2_descripcion))) &
((delito3_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito3_descripcion))) &
((delito4_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito4_descripcion))) &
((delito5_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito5_descripcion)))) %>%
filter(provincia_id==jurisdiccion_id)
sneep$situacion_legal_descripcion
unique(sneep$situacion_legal_descripcion)
count(sneep$situacion_legal_descripcion)
sneep %>% count(situacion_legal_descripcion)
unique(sneep$situacion_legal_descripcion)
provinciales <- sneep %>% filter(situacion_legal_descripcion=='Condenado' | situacion_legal_descripcion=='Condenado') %>%
filter(anio_censo>=2005 & reparticion_descripcion=='Provincial')
# delitos por NO ley 23737
NOdroga_provs <- provinciales %>%
filter(
((delito1_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito1_descripcion))) &
((delito2_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito2_descripcion))) &
((delito3_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito3_descripcion))) &
((delito4_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito4_descripcion))) &
((delito5_descripcion!='Infracción ley n° 23.737 (estupefacientes)') | (is.na(delito5_descripcion)))) %>%
filter(provincia_id==jurisdiccion_id)
